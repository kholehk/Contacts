{"version":3,"sources":["table/UserTable.js","forms/AddUserForm.js","utils/api.js","App.js","index.js"],"names":["ConfirmDelete","props","user","deleteUser","className","id","tabIndex","aria-labelledby","aria-hidden","name","surname","type","data-bs-dismiss","aria-label","onClick","a","TableRow","fields","map","field","idx","calculate","Function","key","scope","data-bs-toggle","data-bs-target","TableBody","users","UserTable","label","length","colSpan","Input","handleInputChange","htmlFor","value","onChange","aria-describedby","AddUserForm","addUser","initialFormState","reduce","acc","cur","useState","setUser","event","target","onSubmit","preventDefault","timestamp","Date","now","urlAPI","URL","url","axios","get","response","data","console","error","postUserToAPI","post","deleteUserFromAPI","pathname","delete","status","stamp","Number","isNaN","format","App","setUsers","newUser","addedUser","wasteUser","filter","useEffect","getUsersFromAPI","then","usersFromAPI","catch","e","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e2d767e2.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction ConfirmDelete(props) {\r\n  const { user, deleteUser } = props;\r\n\r\n  return (\r\n    <div className=\"modal fade\" id=\"confirmDelete\" tabIndex=\"-1\" aria-labelledby=\"confirmDeleteLabel\" aria-hidden=\"true\">\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"confirmDeleteLabel\">{user.name} {user.surname}</h5>\r\n            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Are you sure to remove?\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n            <button type=\"button\" className=\"btn btn-primary\" data-bs-dismiss=\"modal\"\r\n              onClick={async () => { await deleteUser(user) }}>Remove</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction TableRow(props) {\r\n  const { fields, user, deleteUser } = props;\r\n\r\n  return (\r\n    fields.map((field, idx) =>\r\n      idx\r\n        ? <td key={field.key}>{\r\n          field.calculate && field.calculate instanceof Function\r\n            ? field.calculate(user[field.key])\r\n            : user[field.key]\r\n        }</td>\r\n        : <th key={field.key} scope=\"row\">\r\n          <strong className=\"row\">{user[field.key]}</strong>\r\n          <div className=\"row flex-nowrap\">\r\n            <button type=\"button\" className=\"btn btn-sm btn-primary col-auto\">Edit</button>\r\n            <button\r\n              type=\"button\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#confirmDelete\"\r\n              className=\"btn btn-sm btn-danger col-auto mx-1\"\r\n            >Remove</button>\r\n            <ConfirmDelete user={user} deleteUser={deleteUser} />\r\n          </div>\r\n        </th>\r\n    )\r\n  )\r\n}\r\n\r\nfunction TableBody(props) {\r\n  const { fields, users, deleteUser } = props;\r\n\r\n  return (\r\n    users.map(user => (\r\n      <tr key={user.id}>\r\n        <TableRow fields={fields} user={user} deleteUser={deleteUser} />\r\n      </tr>)\r\n    )\r\n  );\r\n}\r\n\r\nfunction UserTable(props) {\r\n  const { fields, users, deleteUser } = props;\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          {fields.map(field => <th key={field.key} scope=\"col\">{field.label}</th>)}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {users.length > 0\r\n          ? <TableBody fields={fields} users={users} deleteUser={deleteUser} />\r\n          : <tr><td colSpan=\"7\">No Users</td></tr>\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default UserTable;\r\n","import React, { useState } from 'react';\r\n\r\nfunction Input(props) {\r\n  const { field, user, handleInputChange } = props;\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <label\r\n        className=\"form-label\"\r\n        htmlFor={field.key}\r\n      >{field.label}</label>\r\n      <input\r\n        type={field.type || \"text\"}\r\n        className=\"form-control\"\r\n        id={field.key}\r\n        name={field.key}\r\n        value={user[field.key]}\r\n        onChange={handleInputChange}\r\n        aria-describedby={field.label}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddUserForm(props) {\r\n  const { fields, addUser } = props;\r\n\r\n  const initialFormState = fields.reduce((acc, cur) => {\r\n    acc[cur.key] = \"\";\r\n\r\n    return acc;\r\n  }, { id: null });\r\n\r\n  const [user, setUser] = useState(initialFormState);\r\n\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n\r\n    setUser({ ...user, [name]: value });\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className=\"mb-3\"\r\n      onSubmit={async (event) => {\r\n        event.preventDefault();\r\n        await addUser({ ...user, timestamp: Date.now() });\r\n        setUser(initialFormState);\r\n      }}>\r\n      {fields.map(field => {\r\n        if (field.calculate) return \"\";\r\n        return (\r\n          <Input\r\n            key={field.key}\r\n            field={field}\r\n            user={user}\r\n            handleInputChange={handleInputChange}\r\n          />\r\n        )\r\n      })}\r\n      <button\r\n        type=\"submit\"\r\n        className=\"btn btn-primary\"\r\n      >Add new user</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddUserForm;\r\n","import axios from 'axios';\r\n\r\nconst urlAPI = new URL(\"/kholehk/FakeJSON/users\", \"https://my-json-server.typicode.com\");\r\n\r\nasync function getUsersFromAPI(id = '') {\r\n  const url = new URL(`${id}`, urlAPI);\r\n\r\n  try {\r\n    const response = await axios.get(url);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n};\r\n\r\nasync function postUserToAPI(user) {\r\n  const url = new URL(urlAPI);\r\n\r\n  try {\r\n    const response = await axios.post(url, user);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nasync function putUserToAPI(id, user) {\r\n  const url = new URL(`${id}`, urlAPI);\r\n\r\n  try {\r\n    const response = await axios.put(url, user);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nasync function deleteUserFromAPI(id) {\r\n  const url = new URL(`${urlAPI.pathname}/${id}`, urlAPI);\r\n\r\n  try {\r\n    const response = await axios.delete(url);\r\n\r\n    return response.status;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport { getUsersFromAPI, postUserToAPI, putUserToAPI, deleteUserFromAPI };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { format } from 'date-fns';\r\nimport UserTable from './table/UserTable';\r\nimport AddUserForm from './forms/AddUserForm';\r\nimport { getUsersFromAPI, postUserToAPI, deleteUserFromAPI } from './utils/api';\r\n\r\nconst fields = [\r\n  { key: \"name\", label: \"Name\" }, //first element scope=\"row\" in table\r\n  { key: \"surname\", label: \"Surname\" },\r\n  { key: \"birthday\", label: \"Birthday\", type: \"date\" },\r\n  { key: \"phone\", label: \"Phone\", type: \"tel\" },\r\n  { key: \"email\", label: \"Email\", type: \"email\" },\r\n  {\r\n    key: \"timestamp\", label: \"Create/Update\", type: \"datetime-local\",\r\n    calculate: (stamp) => Number.isNaN(+stamp) ? \"\" : format(+stamp, \"dd.MM.yyyy HH:mm\")\r\n  },\r\n];\r\n\r\nfunction App() {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getUsersFromAPI()\r\n      .then(usersFromAPI => setUsers(usersFromAPI))\r\n      .catch(e => console.error(e))\r\n  }, []);\r\n\r\n  async function addUser(newUser) {\r\n    const addedUser = await postUserToAPI(newUser);\r\n\r\n    setUsers([...users, addedUser]);\r\n  }\r\n\r\n  async function deleteUser(wasteUser) {\r\n    const { id } = wasteUser;\r\n\r\n    await deleteUserFromAPI(id);\r\n\r\n    setUsers(users.filter((user) => user.id !== id));\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-lg\">\r\n      <h1>Test React with CRUD</h1>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4\">\r\n          <h2>Add user</h2>\r\n          <AddUserForm fields={fields} addUser={addUser} />\r\n        </div>\r\n        <div className=\"col-lg-8\">\r\n          <h2>View users</h2>\r\n          <UserTable fields={fields} users={users} deleteUser={deleteUser} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}