(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(20),s=a.n(c),i=a(1),l=a.n(i),o=(a(23),a(4)),u=a(5),d=a(51),b=a(21),h=a(22),j=a(7),m=a.n(j),p=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(b.a)(this,e),this.origin=t,this.pathname=a}return Object(h.a)(e,[{key:"origin",get:function(){return this._origin},set:function(e){this._origin=this._origin||e}},{key:"pathname",get:function(){return this._pathname},set:function(e){this._pathname=this._pathname||e}},{key:"href",get:function(){return this.origin+this.pathname}},{key:"create",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.href,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.prev=1,e.next=4,m.a.get("".concat(this.href,"/").concat(t));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put("".concat(this.href,"/").concat(t.id),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete("".concat(this.href,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f=a(0);function x(e){var t=e.fields,a=e.users,n=e.editUser,r=e.deleteUser;return a.map((function(e){return Object(f.jsx)("tr",{children:Object(f.jsx)(O,{fields:t,user:e,editUser:n,deleteUser:r})},e.id)}))}function O(e){var t=e.fields,a=e.user,n=e.editUser,r=e.deleteUser;return t.map((function(e,t){return t?Object(f.jsx)("td",{children:e.calculate&&e.calculate instanceof Function?e.calculate(a[e.key]):a[e.key]},e.key):Object(f.jsxs)("th",{scope:"row",children:[Object(f.jsx)("strong",{className:"row",children:a[e.key]}),Object(f.jsxs)("div",{className:"row flex-nowrap",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-sm btn-primary col-auto",onClick:function(){return n(a)},children:"Edit"}),Object(f.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#confirmDelete",className:"btn btn-sm btn-danger col-auto mx-1",children:"Remove"}),Object(f.jsx)(v,{user:a,deleteUser:r})]})]},e.key)}))}function v(e){var t=e.user,a=e.deleteUser;return Object(f.jsx)("div",{className:"modal fade",id:"confirmDelete",tabIndex:"-1","aria-labelledby":"confirmDeleteLabel","aria-hidden":"true",children:Object(f.jsx)("div",{className:"modal-dialog",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsxs)("h5",{className:"modal-title",id:"confirmDeleteLabel",children:[t.name," ",t.surname]}),Object(f.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(f.jsx)("div",{className:"modal-body",children:"Are you sure to remove?"}),Object(f.jsxs)("div",{className:"modal-footer",children:[Object(f.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:case"end":return e.stop()}}),e)}))),children:"Remove"})]})]})})})}var y=function(e){var t=e.fields,a=e.users,n=e.editUser,r=e.deleteUser;return Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsx)("tr",{children:t.map((function(e){return Object(f.jsx)("th",{scope:"col",children:e.label},e.key)}))})}),Object(f.jsx)("tbody",{children:a.length>0?Object(f.jsx)(x,{fields:t,users:a,editUser:n,deleteUser:r}):Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:"7",children:"No Users"})})})]})};a(10),a(8);var N=new p("https://my-json-server.typicode.com","/kholehk/Contacts/index"),g="container",k=[{key:"name",label:"Name"},{key:"surname",label:"Surname"},{key:"birthday",label:"Birthday",type:"date"},{key:"phone",label:"Phone",type:"tel"},{key:"email",label:"Email",type:"email"},{key:"createAt",label:"Create/Update",type:"datetime-local",calculate:function(e){return Number.isNaN(+e)?"":Object(d.a)(+e)}}];var w=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({}),i=Object(u.a)(s,2),d=(i[0],i[1]),b=Object(n.useState)(!1),h=Object(u.a)(b,2),j=(h[0],h[1]);function m(){return(m=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,N.delete(n);case 3:c(a.filter((function(e){return e.id!==n})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){N.read().then((function(e){return c(e)})).catch((function(e){return console.error(e)}))}),[]),Object(f.jsxs)(r.a.StrictMode,{children:[Object(f.jsx)("header",{className:g,children:Object(f.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(f.jsxs)("div",{className:"container-fluid",children:[Object(f.jsx)("a",{className:"navbar-brand",href:"./",children:"Test React with CRUD"}),Object(f.jsxs)("form",{className:"d-flex",children:[Object(f.jsx)("select",{className:"form-select","aria-label":"Users properties",children:k.map((function(e){return Object(f.jsx)("option",{name:e.key,children:e.label},e.key)}))}),Object(f.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(f.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]}),Object(f.jsx)("button",{className:"btn btn-primary",type:"button",children:"Add new user"})]})})}),Object(f.jsxs)("main",{className:g,children:[Object(f.jsx)("h2",{children:"View contacts"}),Object(f.jsx)(y,{fields:k,users:a,editUser:function(e){j(!0),d(e)},deleteUser:function(e){return m.apply(this,arguments)}})]}),Object(f.jsx)("footer",{className:g,children:Object(f.jsx)("nav",{"aria-label":"Pagination of users list",children:Object(f.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(f.jsx)("li",{className:"page-item disabled",children:Object(f.jsx)("a",{className:"page-link",href:"./?page=1",tabIndex:"-1","aria-disabled":"true",children:"Previous"})}),Object(f.jsx)("li",{className:"page-item active","aria-current":"page",children:Object(f.jsx)("a",{className:"page-link",href:"./?page=1",children:"1"})}),Object(f.jsx)("li",{className:"page-item",children:Object(f.jsx)("a",{className:"page-link",href:"./?page=2",children:"2"})}),Object(f.jsx)("li",{className:"page-item",children:Object(f.jsx)("a",{className:"page-link",href:"./?page=2",children:"Next"})})]})})})]})};a(48);s.a.render(Object(f.jsx)(w,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.eaae83f0.chunk.js.map