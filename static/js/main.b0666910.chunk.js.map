{"version":3,"sources":["table/UserTable.js","forms/AddUserForm.js","utils/api.js","App.js","index.js"],"names":["TableBody","props","users","deleteUser","map","user","scope","name","surname","birthday","phone","email","className","date","onClick","a","id","UserTable","length","colSpan","elements","label","type","Input","element","handleInputChange","htmlFor","value","onChange","aria-describedby","AddUserForm","addUser","initialFormState","reduce","acc","cur","useState","setUser","event","target","onSubmit","preventDefault","Date","now","urlAPI","URL","url","axios","get","response","data","console","error","postUserToAPI","post","deleteUserFromAPI","pathname","delete","status","App","setUsers","newUser","addedUser","wasteUserId","filter","useEffect","getUsersFromAPI","then","usersFromAPI","catch","e","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0666910.chunk.js","sourcesContent":["import React from 'react';\n\nfunction TableBody(props) {\n  const { users, deleteUser } = props;\n\n  return (\n    users.map(user => (\n      <tr key={user.id}>\n        <th scope=\"row\">{user.name}</th>\n        <td>{user.surname}</td>\n        <td>{user.birthday}</td>\n        <td>{user.phone}</td>\n        <td>{user.email}</td>\n        <td>\n          <span className=\"row\">{user.date}</span>\n          <button className=\"btn btn-sm btn-primary\">Edit</button>\n          <button\n            className=\"btn btn-sm btn-danger mx-1\"\n            onClick={async () => { await deleteUser(user.id) }}\n          >Remove</button>\n        </td>\n      </tr>)\n    )\n  );\n}\n\nfunction UserTable(props) {\n  const { users, deleteUser } = props;\n\n  // const [currentUser, setCurrentUser] = useState(null);\n\n  return (\n    <table className=\"table overflow-hidden\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Name</th>\n          <th scope=\"col\">Surname</th>\n          <th scope=\"col\">BirthDay</th>\n          <th scope=\"col\">Phone</th>\n          <th scope=\"col\">Email</th>\n          <th scope=\"col\">Create/Update</th>\n        </tr>\n      </thead>\n      <tbody>\n        {users.length > 0\n          ? <TableBody users={users} deleteUser={deleteUser} />\n          : <tr><td colSpan=\"7\">No Users</td></tr>\n        }\n      </tbody>\n    </table>\n  );\n}\n\nexport default UserTable;\n","import React, { useState } from 'react';\n\nconst elements = [\n  { id: \"name\", label: \"Name\" },\n  { id: \"surname\", label: \"Surname\" },\n  { id: \"birthday\", label: \"Birthday\", type: \"date\" },\n  { id: \"phone\", label: \"Phone\", type: \"tel\" },\n  { id: \"email\", label: \"Email\", type: \"email\" },\n];\n\nfunction Input(props) {\n  const { element, user, handleInputChange } = props;\n\n  return (\n    <div className=\"mb-3\">\n      <label\n        className=\"form-label\"\n        htmlFor={element.id}\n      >{element.label}</label>\n      <input\n        type={element.type || \"text\"}\n        className=\"form-control\"\n        id={element.id}\n        name={element.id}\n        value={user[element.id]}\n        onChange={handleInputChange}\n        aria-describedby={element.label}\n      />\n    </div>\n  );\n}\n\nfunction AddUserForm(props) {\n  const { addUser } = props;\n\n  const initialFormState = elements.reduce((acc, cur) => {\n    acc[cur.id] = \"\";\n\n    return acc;\n  }, { id: null });\n\n  const [user, setUser] = useState(initialFormState);\n\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n\n    setUser({ ...user, [name]: value });\n  }\n\n  return (\n    <form className=\"mb-3\" onSubmit={async (event) => {\n      event.preventDefault();\n      await addUser({ ...user, date: Date.now() });\n      setUser(initialFormState);\n    }}>\n      {elements.map(element => {\n        return (\n          <Input\n            key={element.id}\n            element={element}\n            user={user}\n            handleInputChange={handleInputChange}\n          />\n        )\n      })}\n      <button\n        type=\"submit\"\n        className=\"btn btn-primary\"\n      >Add new user</button>\n    </form>\n  )\n}\n\nexport default AddUserForm;","import axios from 'axios';\n\nconst urlAPI = new URL(\"/kholehk/FakeJSON/users\", \"https://my-json-server.typicode.com\");\n\nasync function getUsersFromAPI(id = '') {\n  const url = new URL(`${id}`, urlAPI);\n\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n};\n\nasync function postUserToAPI(user) {\n  const url = new URL(urlAPI);\n\n  try {\n    const response = await axios.post(url, user);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nasync function putUserToAPI(id, user) {\n  const url = new URL(`${id}`, urlAPI);\n\n  try {\n    await axios.put(url, user);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nasync function deleteUserFromAPI(id) {\n  const url = new URL(`${urlAPI.pathname}/${id}`, urlAPI);\n\n  try {\n    const response = await axios.delete(url);\n    return response.status;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport { getUsersFromAPI, postUserToAPI, putUserToAPI, deleteUserFromAPI };\n","import React, { useState, useEffect } from 'react';\nimport UserTable from './table/UserTable';\nimport AddUserForm from './forms/AddUserForm';\nimport { getUsersFromAPI, postUserToAPI, deleteUserFromAPI } from './utils/api';\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    getUsersFromAPI()\n      .then(usersFromAPI => setUsers(usersFromAPI))\n      .catch(e => console.error(e))\n  }, []);\n\n  async function addUser(newUser) {\n    const addedUser = await postUserToAPI(newUser);\n\n    setUsers([...users, addedUser]);\n  }\n\n  async function deleteUser(wasteUserId) {\n    await deleteUserFromAPI(wasteUserId);\n\n    setUsers(users.filter((user) => user.id !== wasteUserId));\n  }\n\n  return (\n    <div className=\"container-lg\">\n      <h1>Test React with CRUD</h1>\n      <div className=\"row\">\n        <div className=\"col-lg-4\">\n          <h2>Add user</h2>\n          <AddUserForm addUser={addUser} />\n        </div>\n        <div className=\"col-lg-8\">\n          <h2>View users</h2>\n          <UserTable users={users} deleteUser={deleteUser} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}