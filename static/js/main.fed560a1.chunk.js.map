{"version":3,"sources":["utils/api.js","form/SearchForm.js","Header.js","table/ContactsTable.js","loader/Loader.js","Main.js","Footer.js","form/Input.js","form/ContactForm.js","form/ConfirmDelete.js","App.js","index.js"],"names":["crudAPI","origin","pathname","this","_origin","value","_pathname","data","a","axios","post","href","response","console","log","params","get","put","id","error","delete","status","SearchForm","props","fields","contacts","setContacts","useState","key","search","setSearch","className","aria-label","onChange","event","options","target","field","find","option","selected","dataset","type","handleSelectChange","map","data-key","data-type","label","placeholder","name","handleInputChange","onClick","preventDefault","filteredContacts","filter","contact","Header","container","setCurrentContact","data-bs-toggle","data-bs-target","TableBody","contactsOnPage","TableRow","idx","calculate","Function","scope","ContactsTable","Array","isArray","length","colSpan","Loader","role","Main","isLoading","navButtonsRef","NavButton","title","condition","page","setCurrentPage","useRef","neighborButton","Object","keys","attributes","ref","tabIndex","current","focus","Footer","firstPage","lastPage","currentPage","prevPage","setPrevPage","nextPage","setNextPage","useEffect","Input","htmlFor","aria-describedby","ContactForm","currentContact","submitContact","initContact","useCallback","obj","reduce","acc","cur","setContact","aria-labelledby","aria-hidden","data-bs-dismiss","formTarget","createAt","Date","now","ConfirmDelete","deleteContact","surname","contactsAPI","stamp","App","book","setBook","setIsLoading","loadingAPI","action","newContact","create","createdContact","readContacts","read","contactsFromAPI","receivedContact","update","updatedContact","wasteContact","Math","floor","push","collectPages","isNewContact","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fed560a1.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nclass crudAPI {\r\n  constructor(origin, pathname = '') {\r\n    this.origin = origin;\r\n    this.pathname = pathname;\r\n  }\r\n\r\n  set origin(value) {\r\n    this._origin = this._origin || value;\r\n  }\r\n\r\n  get origin() {\r\n    return this._origin;\r\n  }\r\n\r\n  set pathname(value) {\r\n    this._pathname = this._pathname || value;\r\n  }\r\n\r\n  get pathname() {\r\n    return this._pathname;\r\n  }\r\n\r\n  get href() {\r\n    return this.origin + this.pathname;\r\n  }\r\n\r\n  async create(data) {\r\n    try {\r\n      const response = await axios.post(this.href, data);\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  async read(params = '') {\r\n    try {\r\n      const response = await axios.get(`${this.href}/${params}`);\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n  async update(data) {\r\n    try {\r\n      const response = await axios.put(`${this.href}/${data.id}`, data);\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async delete(id) {\r\n    try {\r\n      const response = await axios.delete(`${this.href}/${id}`);\r\n\r\n      return response.status;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default crudAPI;\r\n","import React, { useState } from 'react';\r\n\r\nfunction SearchForm(props) {\r\n  const { fields, contacts, setContacts } = props;\r\n  const [search, setSearch] = useState({ key: fields[0].key, value: \"\" });\r\n\r\n  function handleInputChange(event) {\r\n    const { value } = event.target;\r\n\r\n    setSearch({ ...search, value });\r\n  }\r\n\r\n  function handleSelectChange(event) {\r\n    const { options } = event.target;\r\n    const field = [...options].find(option => option.selected);\r\n\r\n    setSearch({ ...search, key: field.dataset.key, type: field.dataset.type });\r\n  }\r\n\r\n  return (\r\n    <form className=\"d-flex\">\r\n      <select\r\n        className=\"form-select\"\r\n        aria-label=\"contactsProperties\"\r\n        onChange={(event) => handleSelectChange(event)}\r\n      >\r\n        {fields.map(field => (\r\n          <option\r\n            key={field.key}\r\n            data-key={field.key}\r\n            data-type={field.type}\r\n          >\r\n            {field.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <input\r\n        className=\"form-control me-2\"\r\n        placeholder=\"Search\"\r\n        aria-label=\"Search\"\r\n        type={search.type || \"search\"}\r\n        name={search.key}\r\n        value={search.value}\r\n        onChange={(event) => handleInputChange(event)}\r\n      />\r\n      <button\r\n        className=\"btn btn-outline-success\"\r\n        type=\"submit\"\r\n        onClick={(event) => {\r\n          event.preventDefault();\r\n\r\n          const filteredContacts = contacts.filter(contact => contact[search.key] === search.value);\r\n          setContacts(filteredContacts ?? []);\r\n        }}\r\n      >Search</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport SearchForm from './form/SearchForm';\r\n\r\nfunction Header(props) {\r\n  const { container, fields, contacts, setContacts, setCurrentContact } = props;\r\n\r\n  return (\r\n    <header className={container}>\r\n      <nav className=\"navbar navbar-light bg-light\">\r\n        <div className=\"container-fluid\">\r\n          <a className=\"navbar-brand\" href=\"./\">Contacts</a>\r\n          <SearchForm fields={fields} contacts={contacts} setContacts={setContacts} />\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            type=\"button\"\r\n            onClick={() => setCurrentContact({})}\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#contactForm\"\r\n          >New contact</button>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction ContactsTable(props) {\r\n  const { fields, contactsOnPage, setCurrentContact } = props;\r\n\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            {fields.map(\r\n              field => <th key={field.key} scope=\"col\">{field.label}</th>\r\n            )}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            Array.isArray(contactsOnPage) && contactsOnPage.length\r\n              ? <TableBody\r\n                fields={fields}\r\n                contactsOnPage={contactsOnPage}\r\n                setCurrentContact={setCurrentContact}\r\n              />\r\n              : <tr><td colSpan=\"7\">No Contacts</td></tr>\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TableBody(props) {\r\n  const { fields, contactsOnPage, setCurrentContact } = props;\r\n\r\n  return (\r\n    contactsOnPage.map(contact => (\r\n      <tr key={contact.id}>\r\n        <TableRow\r\n          fields={fields}\r\n          contact={contact}\r\n          setCurrentContact={setCurrentContact}\r\n        />\r\n      </tr>)\r\n    )\r\n  );\r\n}\r\n\r\nfunction TableRow(props) {\r\n  const { fields, contact, setCurrentContact } = props;\r\n\r\n  return (\r\n    fields.map((field, idx) => {\r\n      if (idx) return (\r\n        <td key={field.key}>{\r\n          field.calculate && field.calculate instanceof Function\r\n            ? field.calculate(contact[field.key])\r\n            : contact[field.key]\r\n        }</td>\r\n      )\r\n      return (\r\n        < th key={field.key} scope=\"row\" >\r\n          <strong className=\"row mx-1\">{contact[field.key]}</strong>\r\n          <div\r\n            className=\"row flex-nowrap mx-1\"\r\n            onClick={() => setCurrentContact(contact)}\r\n          >\r\n            <button\r\n              type=\"button\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#contactForm\"\r\n              className=\"btn btn-sm btn-primary col-auto\"\r\n            >Edit</button>\r\n            <button\r\n              type=\"button\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#confirmDelete\"\r\n              className=\"btn btn-sm btn-danger col-auto mx-1\"\r\n            >Delete</button>\r\n          </div>\r\n        </th>\r\n      )\r\n    })\r\n  )\r\n}\r\n\r\nexport default ContactsTable;\r\n","import React from 'react';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <div className=\"spinner-border m-5\" role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\n\r\nimport ContactsTable from './table/ContactsTable';\r\nimport Loader from './loader/Loader';\r\n\r\nfunction Main(props) {\r\n  const {\r\n    container,\r\n    fields,\r\n    contactsOnPage,\r\n    setCurrentContact,\r\n    isLoading,\r\n  } = props;\r\n\r\n  return (\r\n    <main className={container}>\r\n      {isLoading\r\n        ? <Loader />\r\n        : (<ContactsTable\r\n          fields={fields}\r\n          contactsOnPage={contactsOnPage}\r\n          setCurrentContact={setCurrentContact}\r\n        />)\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\n\r\nfunction Footer(props) {\r\n  const { container, firstPage, lastPage, currentPage, setCurrentPage } = props;\r\n  const [prevPage, setPrevPage] = useState(currentPage - 1);\r\n  const [nextPage, setNextPage] = useState(currentPage + 1);\r\n\r\n  useEffect(\r\n    () => {\r\n      setPrevPage(currentPage - 1);\r\n      setNextPage(currentPage + 1);\r\n    },\r\n    [currentPage]\r\n  );\r\n\r\n  return (\r\n    <footer className={container}>\r\n      <nav aria-label=\"Pagination\">\r\n        <ul className=\"pagination justify-content-center\">\r\n          <NavButton\r\n            title={\"Previous\"}\r\n            condition={currentPage === firstPage || lastPage <= firstPage}\r\n            page={prevPage}\r\n            setCurrentPage={setCurrentPage}\r\n          />\r\n          <NavButton\r\n            title={\"Next\"}\r\n            condition={currentPage === lastPage || lastPage <= firstPage}\r\n            page={nextPage}\r\n            setCurrentPage={setCurrentPage}\r\n          />\r\n        </ul>\r\n      </nav>\r\n    </footer>\r\n  )\r\n}\r\n\r\nconst navButtonsRef = {};\r\n\r\nfunction NavButton(props) {\r\n  const { title, condition, page, setCurrentPage } = props;\r\n\r\n  navButtonsRef[title] = useRef();\r\n  const neighborButton = Object.keys(navButtonsRef).find(key => key !== title);\r\n\r\n  const attributes = {\r\n    className: \"page-link\",\r\n    href: `./?page=${!condition && page}`,\r\n    onClick: (event) => { event.preventDefault(); setCurrentPage(page); },\r\n    ref: navButtonsRef[title],\r\n  };\r\n\r\n  if (condition) {\r\n    attributes.tabIndex = \"-1\";\r\n    attributes[\"aria-disabled\"] = \"true\";\r\n    debugger;\r\n    neighborButton && navButtonsRef[neighborButton].current && navButtonsRef[neighborButton].current.focus();\r\n  }\r\n\r\n  return (\r\n    <li className={\"page-item\" + (condition ? \" disabled\" : \"\")}>\r\n      <a {...attributes}>{title}</a>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction Input(props) {\r\n  const { field, contact, handleInputChange } = props;\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <label\r\n        className=\"form-label\"\r\n        htmlFor={field.key}\r\n      >{field.label}</label>\r\n      <input\r\n        type={field.type || \"text\"}\r\n        className=\"form-control\"\r\n        id={field.key}\r\n        name={field.key}\r\n        value={contact[field.key]}\r\n        onChange={event => handleInputChange(event)}\r\n        aria-describedby={field.label}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;","import React, { useEffect, useState, useCallback } from 'react';\r\nimport Input from './Input';\r\n\r\nfunction ContactForm(props) {\r\n  const { title, fields, currentContact, submitContact } = props;\r\n  const initContact = useCallback(\r\n    (obj) => fields.reduce((acc, cur) => {\r\n      acc[cur.key] = obj[cur.key] || '';\r\n      return acc;\r\n    }, { id: currentContact.id || null }),\r\n    [currentContact, fields]\r\n  );\r\n  const [contact, setContact] = useState(initContact(currentContact));\r\n\r\n  useEffect(() => setContact(initContact(currentContact)), [currentContact, initContact]);\r\n\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n\r\n    setContact({ ...contact, [name]: value });\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"contactForm\"\r\n      tabIndex=\"-1\"\r\n      aria-labelledby=\"contactFormLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <form\r\n        id=\"contactFormDialog\"\r\n        className=\"modal-dialog\"\r\n      >\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5\r\n              className=\"modal-title\"\r\n              id=\"contactFormLabel\"\r\n            >{title}</h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            />\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {fields.map(field => {\r\n              if (field.calculate) return \"\";\r\n              return (\r\n                <Input\r\n                  key={field.key}\r\n                  field={field}\r\n                  contact={contact}\r\n                  handleInputChange={handleInputChange}\r\n                />\r\n              )\r\n            })}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n            >Close</button>\r\n            <button\r\n              formTarget=\"contactFormDialog\"\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              data-bs-dismiss=\"modal\"\r\n              onClick={async (event) => {\r\n                event.preventDefault();\r\n                await submitContact({ ...contact, createAt: Date.now() });\r\n              }}\r\n            >{title}</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContactForm;\r\n","import React from 'react';\r\n\r\nfunction ConfirmDelete(props) {\r\n  const { contact, deleteContact } = props;\r\n\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"confirmDelete\"\r\n      tabIndex=\"-1\"\r\n      aria-labelledby=\"confirmDeleteLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5\r\n              className=\"modal-title\"\r\n              id=\"confirmDeleteLabel\"\r\n            >{contact.name} {contact.surname}</h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            />\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Are you sure to delete?\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n            >Close</button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              data-bs-dismiss=\"modal\"\r\n              onClick={async () => { await deleteContact(contact) }}\r\n            >Remove</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ConfirmDelete;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport crudAPI from './utils/api';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ContactForm from './form/ContactForm';\r\nimport ConfirmDelete from './form/ConfirmDelete';\r\n\r\nconst originAPI = 'https://my-json-server.typicode.com';\r\nconst pathnameAPI = '/kholehk/Contacts/index';\r\n\r\nconst contactsAPI = new crudAPI(originAPI, pathnameAPI);\r\n\r\nconst NUMBER_OF_ROWS = 10;\r\n\r\nconst container = \"container-lg\";\r\n\r\nconst fields = [\r\n  { key: \"name\", label: \"Name\" }, //first element scope=\"row\" in table\r\n  { key: \"surname\", label: \"Surname\" },\r\n  { key: \"birthday\", label: \"Birthday\", type: \"date\" },\r\n  { key: \"phone\", label: \"Phone\", type: \"tel\" },\r\n  { key: \"email\", label: \"Email\", type: \"email\" },\r\n  {\r\n    key: \"createAt\", label: \"Create/Update\", type: \"datetime-local\",\r\n    calculate: (stamp) => stamp\r\n  },\r\n];\r\n\r\nfunction App() {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [currentContact, setCurrentContact] = useState({});\r\n\r\n  const [book, setBook] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const loadingAPI = async (action) => { setIsLoading(true); await action(); setIsLoading(false); }\r\n\r\n  useEffect(() => {\r\n    loadingAPI(readContacts);\r\n  }, []);\r\n\r\n  const collectPages = (contacts) => contacts.reduce(\r\n    (acc, cur, idx) => {\r\n      const page = Math.floor(idx / NUMBER_OF_ROWS);\r\n\r\n      if (page === acc.length) { acc.push([]); }\r\n      acc[page].push(cur);\r\n      return acc;\r\n    },\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    setBook(collectPages(contacts));\r\n  }, [contacts]);\r\n\r\n  async function createContact(newContact) {\r\n    const createdContact = await contactsAPI.create(newContact);\r\n\r\n    setContacts([...contacts, createdContact]);\r\n  }\r\n\r\n  async function readContacts() {\r\n    const contactsFromAPI = await contactsAPI.read();\r\n\r\n    setContacts(contactsFromAPI);\r\n  }\r\n\r\n  async function updateContacts(receivedContact) {\r\n    const updatedContact = await contactsAPI.update(receivedContact);\r\n\r\n    setContacts(\r\n      contacts\r\n        .map(contact => (contact.id === updatedContact.id\r\n          ? updatedContact : contact))\r\n    );\r\n  }\r\n\r\n  async function deleteContact(wasteContact) {\r\n    const { id } = wasteContact;\r\n\r\n    await contactsAPI.delete(id);\r\n\r\n    setContacts(contacts.filter(contact => contact.id !== id));\r\n  }\r\n\r\n  const isNewContact = (contact) => !(Object.keys(contact).length);\r\n\r\n  return (\r\n    <React.StrictMode>\r\n      <Header\r\n        container={container}\r\n        fields={fields}\r\n        contacts={contacts}\r\n        setContacts={setContacts}\r\n        setCurrentContact={setCurrentContact}\r\n      />\r\n      <Main\r\n        container={container}\r\n        fields={fields}\r\n        contactsOnPage={book[currentPage]}\r\n        setCurrentContact={setCurrentContact}\r\n        isLoading={isLoading}\r\n      />\r\n      <Footer\r\n        container={container}\r\n        firstPage={0}\r\n        lastPage={book.length - 1}\r\n        currentPage={currentPage}\r\n        setCurrentPage={setCurrentPage}\r\n      />\r\n      <ContactForm\r\n        fields={fields}\r\n        title={isNewContact(currentContact) ? 'Add contact' : 'Edit contact'}\r\n        currentContact={currentContact}\r\n        submitContact={isNewContact(currentContact) ? createContact : updateContacts}\r\n      />\r\n      <ConfirmDelete\r\n        contact={currentContact}\r\n        deleteContact={deleteContact}\r\n      />\r\n    </React.StrictMode>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import './index.css';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}