(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(20),s=a.n(r),i=a(5),o=a(0);var l=function(e){var t=e.fields;return Object(o.jsxs)("form",{className:"d-flex",children:[Object(o.jsx)("select",{className:"form-select","aria-label":"Users properties",children:t.map((function(e){return Object(o.jsx)("option",{name:e.key,children:e.label},e.key)}))}),Object(o.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(o.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})};var u=function(e){var t=e.container,a=e.fields,n=e.setCurrentContact;return Object(o.jsx)("header",{className:t,children:Object(o.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("a",{className:"navbar-brand",href:"./",children:"Contacts"}),Object(o.jsx)(l,{fields:a}),Object(o.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return n({})},"data-bs-toggle":"modal","data-bs-target":"#contactForm",children:"New contact"})]})})})},d=a(1),b=a.n(d),j=a(23),h=a(3),m=a(21),f=a(22),p=a(7),O=a.n(p),x=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(m.a)(this,e),this.origin=t,this.pathname=a}return Object(f.a)(e,[{key:"origin",get:function(){return this._origin},set:function(e){this._origin=this._origin||e}},{key:"pathname",get:function(){return this._pathname},set:function(e){this._pathname=this._pathname||e}},{key:"href",get:function(){return this.origin+this.pathname}},{key:"create",value:function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post(this.href,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(h.a)(b.a.mark((function e(){var t,a,n=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.prev=1,e.next=4,O.a.get("".concat(this.href,"/").concat(t));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.put("".concat(this.href,"/").concat(t.id),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("".concat(this.href,"/").concat(t));case 3:return a=e.sent,e.abrupt("return",a.status);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),v=a(10),y=a(8);var g=function(e){var t=e.field,a=e.contact,n=e.handleInputChange;return Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{className:"form-label",htmlFor:t.key,children:t.label}),Object(o.jsx)("input",{type:t.type||"text",className:"form-control",id:t.key,name:t.key,value:a[t.key],onChange:function(e){return n(e)},"aria-describedby":t.label})]})};var k=function(e){var t=e.title,a=e.fields,c=e.currentContact,r=e.submitContact,s=Object(n.useCallback)((function(e){return a.reduce((function(t,a){return t[a.key]=e[a.key]||"",t}),{id:c.id||null})}),[c,a]),l=Object(n.useState)(s(c)),u=Object(i.a)(l,2),d=u[0],j=u[1];function m(e){var t=e.target,a=t.name,n=t.value;j(Object(y.a)(Object(y.a)({},d),{},Object(v.a)({},a,n)))}return Object(n.useEffect)((function(){return j(s(c))}),[c,s]),Object(o.jsx)("div",{className:"modal fade",id:"contactForm",tabIndex:"-1","aria-labelledby":"contactFormLabel","aria-hidden":"true",children:Object(o.jsx)("form",{id:"contactFormDialog",className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("h5",{className:"modal-title",id:"contactFormLabel",children:t}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(o.jsx)("div",{className:"modal-body",children:a.map((function(e){return e.calculate?"":Object(o.jsx)(g,{field:e,contact:d,handleInputChange:m},e.key)}))}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(o.jsx)("button",{formTarget:"contactFormDialog",type:"submit",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r(Object(y.a)(Object(y.a)({},d),{},{createAt:Date.now()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:t})]})]})})})};function N(e){var t=e.fields,a=e.contacts,n=e.setCurrentContact;return a.map((function(e){return Object(o.jsx)("tr",{children:Object(o.jsx)(C,{fields:t,contact:e,setCurrentContact:n})},e.id)}))}function C(e){var t=e.fields,a=e.contact,n=e.setCurrentContact;return t.map((function(e,t){return t?Object(o.jsx)("td",{children:e.calculate&&e.calculate instanceof Function?e.calculate(a[e.key]):a[e.key]},e.key):Object(o.jsxs)("th",{scope:"row",children:[Object(o.jsx)("strong",{className:"row",children:a[e.key]}),Object(o.jsxs)("div",{className:"row flex-nowrap",onClick:function(){return n(a)},children:[Object(o.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#contactForm",className:"btn btn-sm btn-primary col-auto",children:"Edit"}),Object(o.jsx)("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#confirmDelete",className:"btn btn-sm btn-danger col-auto mx-1",children:"Delete"})]})]},e.key)}))}var w=function(e){var t=e.fields,a=e.contacts,n=e.setCurrentContact;return Object(o.jsxs)("table",{className:"table",children:[Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{children:t.map((function(e){return Object(o.jsx)("th",{scope:"col",children:e.label},e.key)}))})}),Object(o.jsx)("tbody",{children:a.length>0?Object(o.jsx)(N,{fields:t,contacts:a,setCurrentContact:n}):Object(o.jsx)("tr",{children:Object(o.jsx)("td",{colSpan:"7",children:"No Contacts"})})})]})};var P=function(e){var t=e.contact,a=e.deleteContact;return Object(o.jsx)("div",{className:"modal fade",id:"confirmDelete",tabIndex:"-1","aria-labelledby":"confirmDeleteLabel","aria-hidden":"true",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsxs)("h5",{className:"modal-title",id:"confirmDeleteLabel",children:[t.name," ",t.surname]}),Object(o.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(o.jsx)("div",{className:"modal-body",children:"Are you sure to delete?"}),Object(o.jsxs)("div",{className:"modal-footer",children:[Object(o.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(o.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:case"end":return e.stop()}}),e)}))),children:"Remove"})]})]})})})},S=new x("https://my-json-server.typicode.com","/kholehk/Contacts/index");var D=function(e){var t=e.container,a=e.fields,c=(e.currentPage,e.setCurrentPage,e.currentContact),r=e.setCurrentContact,s=Object(n.useState)([]),l=Object(i.a)(s,2),u=l[0],d=l[1];function m(){return(m=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.create(t);case 2:a=e.sent,d([].concat(Object(j.a)(u),[a]));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.read();case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.update(t);case 2:a=e.sent,d(u.map((function(e){return e.id===a.id?a:e})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,S.delete(a);case 3:d(u.filter((function(e){return e.id!==a})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){return function(){return f.apply(this,arguments)}()}),[]);var x=function(e){return!Object.keys(e).length};return Object(o.jsxs)("main",{className:t,children:[Object(o.jsx)(k,{title:x(c)?"Add contact":"Edit contact",fields:a,currentContact:c,submitContact:x(c)?function(e){return m.apply(this,arguments)}:function(e){return p.apply(this,arguments)}}),Object(o.jsx)(w,{fields:a,contacts:u,setCurrentContact:r}),Object(o.jsx)(P,{contact:c,deleteContact:function(e){return O.apply(this,arguments)}})]})};var F=function(e){var t=e.container,a=e.currentPage;return Object(o.jsx)("footer",{className:t,children:Object(o.jsx)("nav",{"aria-label":"Pagination of users list",children:Object(o.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(o.jsx)("li",{className:"page-item disabled",children:Object(o.jsx)("a",{className:"page-link",href:"./?page=".concat(a-1),tabIndex:"-1","aria-disabled":"true",children:"Previous"})}),Object(o.jsx)("li",{className:"page-item",children:Object(o.jsx)("a",{className:"page-link",href:"./?page=".concat(a+1),children:"Next"})})]})})})},E="container",I=[{key:"name",label:"Name"},{key:"surname",label:"Surname"},{key:"birthday",label:"Birthday",type:"date"},{key:"phone",label:"Phone",type:"tel"},{key:"email",label:"Email",type:"email"},{key:"createAt",label:"Create/Update",type:"datetime-local",calculate:function(e){return e}}];var _=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)({}),l=Object(i.a)(s,2),d=l[0],b=l[1];return Object(o.jsxs)(c.a.StrictMode,{children:[Object(o.jsx)(u,{container:E,fields:I,setCurrentContact:b}),Object(o.jsx)(D,{container:E,fields:I,currentPage:a,setCurrentPage:r,currentContact:d,setCurrentContact:b}),Object(o.jsx)(F,{container:E,currentPage:a,setCurrentPage:r})]})};a(48);s.a.render(Object(o.jsx)(_,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.f6e616ee.chunk.js.map